<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBC-Pro-Sensors | Laboratory</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Segoe+UI&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 0. 全局變數與基礎設定 --- */
        :root {
            --bio-cyan: #00ffff;
            --bio-yellow: #ffcc00;
            --bio-green: #33ff33;
            --bg-dark: #050a10;
            --bg-gradient: linear-gradient(135deg, #0f1720 0%, #000000 100%);
            --neon-cyan: #00ffff;
            --neon-gold: #ffd700;
            --neon-orange: #ff4500;
            --neon-ice: #a5f2f3;
            --neon-purple: #b026ff;
            --tiffany-green: #0ABAB5;
            
            --current-theme: var(--neon-cyan);
            --current-theme-rgb: 0, 255, 255;
            --glass-bg: rgba(20, 30, 40, 0.4);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; }
        
        /* 電腦版隱藏原生鼠標 */
        @media (min-width: 1025px) {
            * { cursor: none; }
        }

        body {
            margin: 0; padding: 0;
            background: var(--bg-dark);
            font-family: 'Segoe UI', 'Orbitron', sans-serif;
            color: white; overflow: hidden; height: 100vh;
        }

        /* --- 1. 鼠標引力燈特效 (Tiffany Green) --- */
        #cursor-light {
            position: fixed; top: 0; left: 0; width: 400px; height: 400px;
            background: radial-gradient(circle, rgba(10,186,181,0.15) 0%, transparent 70%);
            transform: translate(-50%, -50%); pointer-events: none; z-index: 9999;
            mix-blend-mode: screen;
        }
        #cursor-ring {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px;
            border: 2px solid var(--tiffany-green); border-radius: 50%;
            transform: translate(-50%, -50%); pointer-events: none; z-index: 9999;
            box-shadow: 0 0 10px var(--tiffany-green);
        }

        /* --- 2. 生物辨識開場 --- */
        #bio-layer {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .bio-scanner-line {
            position: absolute; width: 100%; height: 5px; 
            background: var(--tiffany-green);
            box-shadow: 0 0 20px var(--tiffany-green);
            animation: scanDown 2s infinite linear;
            z-index: 10001;
        }
        .bio-center { text-align: center; z-index: 10002; }
        .fingerprint-scan {
            width: 120px; height: 120px; border: 3px solid var(--tiffany-green);
            border-radius: 50%; margin: 0 auto 20px; animation: spin 4s infinite linear;
            display: flex; align-items: center; justify-content: center;
        }
        .bio-text { font-family: 'Orbitron'; color: var(--tiffany-green); letter-spacing: 3px; }
        
        .scanning-active {
            background-color: rgba(255, 204, 0, 0.1) !important;
            animation: screenShake 0.1s infinite !important;
        }
        @keyframes screenShake {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-2px, 1px); }
            100% { transform: translate(1px, -1px); }
        }

        /* 大門層 */
        #lab-door-container { position: fixed; inset: 0; z-index: 9999; display: flex; pointer-events: none; }
        .door-panel { width: 50%; height: 100%; background: #050a10; border: 1px solid rgba(255,255,255,0.1); }
        .left-door { border-right: 4px solid #1a1a1a; }
        .right-door { border-left: 4px solid #1a1a1a; }

        /* --- 3. 戰術導覽列 --- */
        #tactical-nav {
            position: fixed; top: 0; width: 100%; height: 80px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 40px; background: rgba(5,10,16,0.9); backdrop-filter: blur(5px); z-index: 500;
        }
        .nav-brand { font-family: 'Orbitron'; font-size: 24px; letter-spacing: 2px; }
        .nav-menu { display: flex; gap: 30px; }
        .nav-item { color: #888; font-size: 14px; text-decoration: none; transition: 0.5s; cursor: pointer; }
        .nav-item.active { color: var(--current-theme); text-shadow: 0 0 10px var(--current-theme); }

        /* --- 4. 核心 3D 實驗平台 (修復版) --- */
        .lab-stage {
            position: absolute; inset: 0; display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 10;
        }
        .scene { width: 400px; height: 400px; perspective: 1200px; }
        .cube {
            width: 100%; height: 100%; position: absolute; transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .cube-face {
            position: absolute; width: 400px; height: 400px;
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px); backface-visibility: hidden;
            display: flex; align-items: center; justify-content: center;
        }
        .cube-front  { transform: rotateY(0deg) translateZ(200px); }
        .cube-right  { transform: rotateY(90deg) translateZ(200px); }
        .cube-back   { transform: rotateY(180deg) translateZ(200px); }
        .cube-left   { transform: rotateY(-90deg) translateZ(200px); }

        /* --- CONTACT US 精密顯示修復 --- */
        .contact-wrapper {
            position: relative; width: 100%; display: flex; flex-direction: column;
            align-items: center; justify-content: center; transform: translateZ(2px);
        }
        .social-grid { display: flex; gap: 35px; justify-content: center; }
        .social-hex {
            position: relative; width: 65px; height: 65px; text-decoration: none;
            transition: 0.4s; cursor: pointer;
        }
        .hex-inner {
            width: 100%; height: 100%; border: 1px solid var(--current-theme);
            background: rgba(var(--current-theme-rgb), 0.15);
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
            display: flex; align-items: center; justify-content: center;
        }
        .hex-inner i { font-size: 24px; color: white; filter: drop-shadow(0 0 5px var(--current-theme)); }
        .social-hex:hover { transform: translateY(-10px) scale(1.1); }

        /* L型對焦框 */
        .corner { position: absolute; width: 20px; height: 20px; border-color: var(--current-theme); }
        .tl { top: -1px; left: -1px; border-top: 2px solid; border-left: 2px solid; }
        .tr { top: -1px; right: -1px; border-top: 2px solid; border-right: 2px solid; }
        .bl { bottom: -1px; left: -1px; border-bottom: 2px solid; border-left: 2px solid; }
        .br { bottom: -1px; right: -1px; border-bottom: 2px solid; border-right: 2px solid; }

        /* --- 5. 機械臂系統 (依照你原始 CSS 結構) --- */
        .robotic-arms-system {
            position: fixed; inset: 0; pointer-events: none; z-index: 5;
        }
        .arm-wrapper {
            position: absolute; bottom: -350px; width: 400px; height: 800px;
            filter: drop-shadow(0 30px 50px rgba(0,0,0,1));
        }
        #arm-left-container { left: -120px; transform-origin: bottom left; transform: rotate(15deg); }
        #arm-right-container { right: -120px; transform-origin: bottom right; transform: rotate(-15deg); }
        
        .arm-svg { width: 100%; height: 100%; overflow: visible; }
        #left-shoulder-group, #right-shoulder-group { transform-origin: 150px 650px; }
        #left-elbow-group, #right-elbow-group { transform-origin: 150px 350px; }
        #left-claw-mechanism, #right-claw-mechanism { transform-origin: 150px 150px; }

        .energy-flow-path {
            stroke-dasharray: 100; stroke-dashoffset: 0;
            animation: flowAnimation 1.2s linear infinite;
            stroke: var(--current-theme); filter: drop-shadow(0 0 8px var(--current-theme));
        }
        @keyframes flowAnimation { to { stroke-dashoffset: -200; } }

        /* --- 6. 控制與優化 --- */
        .controls { position: fixed; bottom: 50px; left: 50%; transform: translateX(-50%); display: flex; gap: 30px; z-index: 999; }
        .ctrl-btn {
            background: transparent; border: 1px solid var(--current-theme); color: white;
            padding: 10px 30px; font-family: 'Orbitron'; cursor: pointer; transition: 0.3s;
        }
        .ctrl-btn:hover { background: var(--current-theme); color: black; }

        /* 手機版 RWD 優化 */
        @media (max-width: 768px) {
            .robotic-arms-system, #bio-layer, #lab-door-container, #cursor-light, #cursor-ring { display: none !important; }
            .scene, .cube-face { width: 300px; height: 300px; }
            .cube-front { transform: rotateY(0deg) translateZ(150px); }
            .cube-right { transform: rotateY(90deg) translateZ(150px); }
            .cube-back  { transform: rotateY(180deg) translateZ(150px); }
            .cube-left  { transform: rotateY(-90deg) translateZ(150px); }
            .nav-menu { display: none; }
            .controls { bottom: 20px; }
        }

        @keyframes scanDown { 0% { top: -10%; } 100% { top: 110%; } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="cursor-light"></div>
    <div id="cursor-ring"></div>

    <div id="bio-layer">
        <div class="bio-scanner-line"></div>
        <div class="bio-center">
            <div class="fingerprint-scan"><i class="fas fa-fingerprint" style="font-size: 50px; color: var(--tiffany-green);"></i></div>
            <div class="bio-text">BIOMETRIC SCANNING</div>
        </div>
    </div>

    <div id="lab-door-container">
        <div class="door-panel left-door"></div>
        <div class="door-panel right-door"></div>
    </div>

    <nav id="tactical-nav">
        <div class="nav-brand">MBC PRO</div>
        <div class="nav-menu">
            <div class="nav-item active" data-index="0">SENSOR</div>
            <div class="nav-item" data-index="1">WRO</div>
            <div class="nav-item" data-index="2">MOTOR</div>
            <div class="nav-item" data-index="3">SPIKE</div>
            <div class="nav-item" data-index="4">FREE</div>
            <div class="nav-item" data-index="5">CONTACT</div>
        </div>
    </nav>

    <div class="lab-stage">
        <div class="scene">
            <div class="cube" id="cube">
                <div class="cube-face cube-front" id="face-content"></div>
                <div class="cube-face cube-right"></div>
                <div class="cube-face cube-back"></div>
                <div class="cube-face cube-left"></div>
            </div>
        </div>
    </div>

    <div class="robotic-arms-system">
        <div id="arm-left-container" class="arm-wrapper">
            <svg class="arm-svg" viewBox="0 0 300 800">
                <g id="left-shoulder-group">
                    <rect x="130" y="350" width="40" height="300" fill="#1a222a" />
                    <path class="energy-flow-path" d="M150 650 L150 350" fill="none" stroke-width="4"/>
                    <g id="left-elbow-group">
                        <rect x="135" y="150" width="30" height="200" fill="#2a333c" />
                        <g id="left-claw-mechanism">
                            <path d="M130 150 L100 80" stroke="white" stroke-width="5" />
                            <path d="M170 150 L200 80" stroke="white" stroke-width="5" />
                            <circle cx="150" cy="150" r="15" fill="var(--current-theme)" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div id="arm-right-container" class="arm-wrapper">
            <svg class="arm-svg" viewBox="0 0 300 800">
                <g id="right-shoulder-group">
                    <rect x="130" y="350" width="40" height="300" fill="#1a222a" />
                    <path class="energy-flow-path" d="M150 650 L150 350" fill="none" stroke-width="4"/>
                    <g id="right-elbow-group">
                        <rect x="135" y="150" width="30" height="200" fill="#2a333c" />
                        <g id="right-claw-mechanism">
                            <path d="M150 150 L150 70" stroke="white" stroke-width="4" />
                            <path d="M130 150 L100 100" stroke="white" stroke-width="4" />
                            <path d="M170 150 L200 100" stroke="white" stroke-width="4" />
                            <circle cx="150" cy="150" r="15" fill="var(--current-theme)" />
                        </g>
                    </g>
                </g>
            </svg>
        </div>
    </div>

    <div class="controls">
        <button class="ctrl-btn" id="prevBtn">PREV</button>
        <button class="ctrl-btn" id="nextBtn">NEXT</button>
    </div>

    <script>
        const products = [
            { name: "MBC SENSOR", color: "#00ffff", rgb: "0,255,255", icon: "fa-microchip" },
            { name: "WRO TRACK", color: "#ffd700", rgb: "255,215,0", icon: "fa-trophy" },
            { name: "TECHNIC MOTOR", color: "#ff4500", rgb: "255,69,0", icon: "fa-cogs" },
            { name: "SPIKE COURSE", color: "#a5f2f3", rgb: "165,242,243", icon: "fa-graduation-cap" },
            { name: "FREE DOMAIN", color: "#b026ff", rgb: "176,38,255", icon: "fa-rocket" },
            { name: "CONTACT US", color: "#ffffff", rgb: "255,255,255", isContact: true }
        ];

        let currentIndex = 0;
        let rotationY = 0;

        // 初始化開場動畫 (電腦版)
        if (window.innerWidth > 768) {
            const tl = gsap.timeline();
            tl.to("#bio-layer", { backgroundColor: "rgba(255,204,0,0.2)", duration: 1.5 })
              .to("#bio-layer", { opacity: 0, duration: 1, delay: 1, onComplete: () => document.getElementById('bio-layer').remove() })
              .to(".left-door", { x: "-100%", duration: 1.5, ease: "power4.inOut" }, "-=0.5")
              .to(".right-door", { x: "100%", duration: 1.5, ease: "power4.inOut" }, "<");
        }

        function updateContent() {
            const p = products[currentIndex];
            document.documentElement.style.setProperty('--current-theme', p.color);
            document.documentElement.style.setProperty('--current-theme-rgb', p.rgb);

            const content = p.isContact ? `
                <div class="contact-wrapper">
                    <div class="module-title">CONTACT US</div>
                    <div class="social-grid">
                        <a class="social-hex"><div class="hex-inner"><i class="fab fa-facebook-f"></i></div></a>
                        <a class="social-hex"><div class="hex-inner"><i class="fab fa-instagram"></i></div></a>
                        <a class="social-hex"><div class="hex-inner"><i class="fas fa-envelope"></i></div></a>
                    </div>
                </div>
            ` : `
                <div class="content-wrapper">
                    <i class="fas ${p.icon}" style="font-size:80px; color:var(--current-theme)"></i>
                    <h2 style="font-family:Orbitron; margin-top:20px;">${p.name}</h2>
                </div>
            `;
            
            // 更新所有面確保旋轉時不穿幫
            document.querySelectorAll('.cube-face').forEach(face => {
                face.innerHTML = content + '<div class="corner tl"></div><div class="corner tr"></div><div class="corner bl"></div><div class="corner br"></div>';
            });
        }

        function animateArm(side) {
            if (window.innerWidth <= 768) return;
            const container = side === 'left' ? "#arm-left-container" : "#arm-right-container";
            gsap.to(container, { bottom: "0px", duration: 0.5, yoyo: true, repeat: 1, ease: "power2.out" });
        }

        document.getElementById('nextBtn').onclick = () => {
            currentIndex = (currentIndex + 1) % products.length;
            rotationY -= 90;
            gsap.to("#cube", { rotationY: rotationY, duration: 1 });
            animateArm('left');
            updateContent();
        };

        document.getElementById('prevBtn').onclick = () => {
            currentIndex = (currentIndex - 1 + products.length) % products.length;
            rotationY += 90;
            gsap.to("#cube", { rotationY: rotationY, duration: 1 });
            animateArm('right');
            updateContent();
        };

        // 鼠標監聽
        if (window.innerWidth > 1024) {
            window.onmousemove = (e) => {
                gsap.to("#cursor-light", { x: e.clientX, y: e.clientY, duration: 0.6 });
                gsap.to("#cursor-ring", { x: e.clientX, y: e.clientY, duration: 0.1 });
            };
        }

        updateContent();
    </script>
</body>
</html>
